<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-collapse/iron-collapse.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="keywordsSet-viewer.html">
<!--
-->

<dom-module id="talk-viewer" attributes="talk">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
      }
      paper-icon-button{
        float:right;
      }
      paper-card{
        width: 100%;
      }
    </style>

    <paper-card class="white">

      <!-- Card header -->
      <div class="card-content blue" on-click="toggle">
        {{talk.theme}} ( {{talk.themeTranslation}} )
        <iron-icon id="talkCardIcon" icon="icons:arrow-drop-down" style="float:right;">
        </iron-icon>
      </div>

      <!-- Card content -->
      <div class="card-actions">
        <iron-collapse id="more" style="width:100%;display:block">
          <div>
            <template is="dom-repeat" items="[[talk.keywordsSet]]">
              <keywordsSet-viewer set={{item}} index=[[index]]>
            </template>
          </div>
        </iron-collapse>
      </div>

    </paper-card>
  </template>

  <script>
    Polymer({
      is: 'talk-viewer',

      // Toggle the card content

      toggle: function() {
        var moreInfo = this.$.more;
        var talkCardIcon = this.$.talkCardIcon;
        talkCardIcon.icon = moreInfo.opened ? 'icons:arrow-drop-down'
                                          : 'icons:arrow-drop-up';
        moreInfo.toggle();
      }
    });
  </script>
</dom-module>
